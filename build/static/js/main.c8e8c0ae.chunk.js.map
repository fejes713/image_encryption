{"version":3,"sources":["components/ImageUploader.js","App.js","reportWebVitals.js","index.js"],"names":["ImageUploader","useState","file","setFile","file_encrypted","file_ref","useRef","style","flex","flexDirection","alignItems","id","className","src","url","alt","justifyContent","marginRight","onClick","current","value","marginLeft","cv","document","querySelector","img1","c","getContext","img","Image","window","URL","createObjectURL","data","onload","drawImage","width","height","imgData","getImageData","pixels","i","length","pixel","r","g","b","a","push","console","log","click","padding","borderRadius","borderWidth","borderColor","borderStyle","cursor","ref","type","onChange","event","target","files","display","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"0NA0FeA,EAxFO,WAAQ,IAAD,EACDC,mBAAS,MADR,mBAClBC,EADkB,KACZC,EADY,OAEkBF,mBAAS,MAF3B,mBAElBG,EAFkB,KAGnBC,GAHmB,KAGRC,oBAoDjB,OACI,sBAAKC,MAAO,CAACC,KAAM,GAAnB,UACMN,GACE,sBAAKK,MAAO,CAACE,cAAe,OAA5B,UACI,sBAAKF,MAAO,CAACG,WAAW,SAAxB,UACI,qBAAKC,GAAG,QAAQC,UAAU,WAAWC,IAAG,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAMY,IAAMC,IAAI,KAC1D,qBAAKJ,GAAG,SAASC,UAAU,WAAWC,IAAKT,EAAiBW,IAAI,QAGpE,sBAAKR,MAAO,CAACE,cAAe,SAAUO,eAAe,gBAAiBR,KAAM,GAA5E,UACI,wBAAQD,MAAO,CAACU,YAAa,GAAIC,QAfjC,WAChBb,EAASc,QAAQC,MAAO,KACxBjB,GAAQ,IAaQ,0BACA,wBAAQI,MAAO,CAACc,WAAY,GAAIH,QAjD/B,WACjB,IAAMI,EAAKC,SAASC,cAAc,OAC5BC,EAAOF,SAASC,cAAc,UAEhCE,EAAIJ,EAAGK,WAAW,MAElBC,EAAM,IAAIC,MACdD,EAAIf,IAAMiB,OAAOC,IAAIC,gBAAgB9B,EAAK+B,MAC1CL,EAAIM,OAAS,WACTR,EAAES,UAAUV,EAAM,EAAE,EAAEG,EAAIQ,MAAOR,EAAIS,QAKrC,IAJA,IAAIC,EAAUZ,EAAEa,aAAa,EAAG,EAAGX,EAAIQ,MAAOR,EAAIS,QAG9CG,EAAS,GACJC,EAAI,EAAGA,EAAIH,EAAQL,KAAKS,OAAQD,GAAK,EAAG,CAC7C,IAAME,EAAQ,CACVC,EAAGN,EAAQL,KAAKQ,GAChBI,EAAGP,EAAQL,KAAKQ,EAAE,GAAG,GACrBK,EAAGR,EAAQL,KAAKQ,EAAE,GAClBM,EAAGT,EAAQL,KAAKQ,EAAE,IAEtBD,EAAOQ,KAAKL,GAEhBM,QAAQC,IAAIV,KA0BA,kCAKTtC,GACC,qBAAKgB,QA5BE,WACf+B,QAAQC,IAAI,gBACG7C,EAASc,QACjBgC,SAyB2B5C,MAAO,CAAC6C,QAAS,IAAKC,aAAc,GAAIC,YAAa,EAAGC,YAAa,YAAaC,YAAa,SAAUC,OAAQ,WAA3I,SACI,uBAAOlD,MAAO,CAAEkD,OAAQ,WAAxB,4BAMJ,gCACI,uBAAOC,IAAKrD,EAAUsD,KAAK,OAAOC,SA1E7B,SAACC,GAClBZ,QAAQC,IAAI,UACZD,QAAQC,IAAIW,EAAMC,OAAOC,OACzB,IAAM9B,EAAO,CACTnB,IAAKiB,IAAIC,gBAAgB6B,EAAMC,OAAOC,MAAM,IAC5C9B,KAAM4B,EAAMC,OAAOC,MAAM,IAE7B5D,EAAQ8B,IAmE8D1B,MAAO,CAACyD,QAAS,UAC3E,wBAAQrD,GAAG,KAAKJ,MAAO,CAACyD,QAAS,iBCpEtCC,MAZf,WACE,OACE,sBAAKrD,UAAU,MAAf,UACE,kDAIA,cAAC,EAAD,QCESsD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtD,SAASuD,eAAe,SAM1BZ,M","file":"static/js/main.c8e8c0ae.chunk.js","sourcesContent":["import {useRef, useState} from 'react';\n\nconst ImageUploader = () =>  {\n    const [file, setFile] = useState(null);\n    const [file_encrypted, setFileEncrypted] = useState(null);\n    const file_ref = useRef();\n\n\n    const handleChange = (event) => {\n        console.log('change');\n        console.log(event.target.files);\n        const data = {\n            url: URL.createObjectURL(event.target.files[0]),\n            data: event.target.files[0]\n        }\n        setFile(data);\n\n    }\n\n    const imageProcess = () => {\n        const cv = document.querySelector(\"#cv\");\n        const img1 = document.querySelector(\"#image\");\n    \n        let c = cv.getContext(\"2d\");\n        \n        let img = new Image()\n        img.src = window.URL.createObjectURL(file.data);\n        img.onload = () => {\n            c.drawImage(img1, 0,0,img.width, img.height);\n            var imgData = c.getImageData(0, 0, img.width, img.height);\n\n            // get color pixels rgba\n            var pixels = []\n            for (var i = 0; i < imgData.data.length; i += 4) {\n                const pixel = {\n                    r: imgData.data[i],\n                    g: imgData.data[i+1]+10,\n                    b: imgData.data[i+2],\n                    a: imgData.data[i+3]\n                };\n                pixels.push(pixel);\n            }\n            console.log(pixels);\n        }\n    }\n\n    const pressInput = () => {\n        console.log('Input click!');\n        const button = file_ref.current;\n        button.click();\n    }\n\n    const removeImage = () => {\n        file_ref.current.value= null;\n        setFile(false);\n    }\n\n    return (\n        <div style={{flex: 1}}>\n            { file && (\n                <div style={{flexDirection: 'row'}}>\n                    <div style={{alignItems:'unset'}}> \n                        <img id=\"image\" className=\"App-logo\" src={file?.url}  alt=\"\" />\n                        <img id=\"image2\" className=\"App-logo\" src={file_encrypted}  alt=\"\" />\n                    </div>\n                    \n                    <div style={{flexDirection: 'column', justifyContent:'space-between', flex: 1}}>\n                        <button style={{marginRight: 5}} onClick={removeImage}>Remove image</button>\n                        <button style={{marginLeft: 5}} onClick={imageProcess}>Encrypt image</button>\n                    </div>\n                </div>\n            )}\n\n            { !file && \n                <div onClick={pressInput} style={{padding: 100, borderRadius: 16, borderWidth: 3, borderColor: '#ffffff80', borderStyle: 'dashed', cursor: 'pointer'}}>\n                    <label style={{ cursor: 'pointer'}}>Upload image</label>\n                </div>\n            }\n\n\n            {/* Hidden content */}\n                <div> \n                    <input ref={file_ref} type=\"file\" onChange={handleChange} style={{display: 'none'}}/>\n                    <canvas id=\"cv\" style={{display: 'none'}} />\n                </div>\n            {/*  */}\n        </div>\n    );\n}\n\nexport default ImageUploader;\n","import './App.css';\nimport ImageUploader from './components/ImageUploader';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1 >\n        Image encryption\n      </h1>\n    \n      <ImageUploader />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}